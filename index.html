<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- PWA Manifest & Icons -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <!-- iOS Specific Meta -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Vocab Vortex">

    <title>Vocab Vortex</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="js/tailwind-config.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body id="app-body"
    class="bg-graph flex flex-col items-center pt-4 pb-10 px-3 overflow-y-auto overflow-x-hidden transition-colors duration-300 select-none">

    <canvas id="confetti-canvas"></canvas>

    <!-- Main App Container -->
    <div id="main-card"
        class="w-full max-w-md bg-white dark:bg-dark-card rounded-[2rem] shadow-2xl overflow-hidden border-4 border-white dark:border-slate-700 relative z-10 mb-8 transition-all duration-300">

        <!-- Header -->
        <div class="bg-fun-purple dark:bg-slate-800 p-3 text-white flex justify-between items-center sticky top-0 z-20">
            <div class="flex flex-col">
                <h1 class="text-xl font-bold tracking-wide leading-none fun-font">Vocab Vortex</h1>
                <span id="week-title"
                    class="text-purple-200 dark:text-slate-400 text-[10px] font-bold uppercase tracking-wider mt-1">Loading...</span>
            </div>

            <!-- Controls -->
            <div class="flex items-center gap-2">
                <button onclick="toggleDarkMode()"
                    class="btn-3d bg-fun-purpleDark dark:bg-slate-700 border-purple-900 dark:border-slate-900 p-2 rounded-xl text-lg"
                    title="Dark Mode">
                    üåó
                </button>

                <!-- Timer Badge -->
                <div id="timer-container"
                    class="hidden flex items-center bg-fun-blue px-3 py-1 rounded-xl border-b-4 border-blue-700 shadow-sm btn-3d transform scale-90">
                    <span class="text-lg mr-1">‚è±Ô∏è</span>
                    <span id="timer-display" class="font-black text-white font-mono text-lg">0s</span>
                </div>

                <!-- Streak Badge -->
                <div id="streak-container"
                    class="hidden flex items-center bg-fun-yellow px-3 py-1 rounded-xl border-b-4 border-yellow-600 shadow-sm btn-3d transform scale-90">
                    <span class="text-lg mr-1">üî•</span>
                    <span id="streak-count" class="font-black text-white font-mono text-lg">0</span>
                </div>

                <button onclick="clickSound(); restartApp()"
                    class="btn-3d bg-fun-purpleDark dark:bg-slate-700 border-purple-900 dark:border-slate-900 p-2 rounded-xl text-lg"
                    title="Reset">
                    üîÑ
                </button>
            </div>
        </div>

        <!-- Mode Switcher -->
        <div class="flex bg-gray-100 dark:bg-slate-900 p-2 gap-2">
            <button onclick="setTab('study')" id="btn-study"
                class="flex-1 py-3 rounded-xl font-black text-gray-400 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700 transition-all text-sm md:text-base">
                üìñ Study
            </button>
            <button onclick="setTab('quiz')" id="btn-quiz"
                class="flex-1 py-3 rounded-xl font-black text-gray-400 dark:text-slate-500 hover:bg-white dark:hover:bg-slate-700 transition-all text-sm md:text-base">
                üèÜ Quiz
            </button>
        </div>

        <!-- Content Area -->
        <div class="p-4 md:p-6 min-h-[50vh] flex flex-col justify-between relative" id="app-content">

            <!-- Progress -->
            <div class="w-full mb-4 md:mb-6">
                <div
                    class="flex justify-between text-[10px] md:text-xs text-gray-400 dark:text-slate-500 mb-1 px-1 font-bold uppercase tracking-widest">
                    <span>Progress</span>
                    <span id="counter">1/10</span>
                </div>
                <div class="flex gap-1.5 w-full h-3">
                    <div id="chunk-1"
                        class="rounded-full bg-gray-200 dark:bg-slate-700 flex-1 transition-all duration-500"></div>
                    <div id="chunk-2"
                        class="rounded-full bg-gray-200 dark:bg-slate-700 flex-1 transition-all duration-500"></div>
                    <div id="chunk-3"
                        class="rounded-full bg-gray-200 dark:bg-slate-700 flex-1 transition-all duration-500"></div>
                    <div id="chunk-4"
                        class="rounded-full bg-gray-200 dark:bg-slate-700 flex-1 transition-all duration-500"></div>
                    <div id="chunk-5"
                        class="rounded-full bg-gray-200 dark:bg-slate-700 flex-1 transition-all duration-500"></div>
                </div>
            </div>

            <!-- Card Content -->
            <div id="card-display" class="card-enter flex-grow flex flex-col items-center text-center mb-4 w-full">
                <!-- Loader Initial -->
                <div class="animate-pulse text-gray-400 font-bold mt-10">Loading Week...</div>
            </div>

            <!-- Controls / Input -->
            <div id="controls-area" class="w-full mt-auto"></div>
        </div>

        <!-- Footer Navigation -->
        <div id="footer-nav"
            class="bg-gray-50 dark:bg-slate-900 p-4 flex justify-between items-center border-t-2 border-gray-100 dark:border-slate-800">
            <button onclick="clickSound(); prevWord()"
                class="btn-3d text-gray-500 hover:text-fun-purple dark:text-slate-400 font-bold px-4 py-2 rounded-xl bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-sm md:text-base">
                ‚Üê Back
            </button>
            <button onclick="clickSound(); nextWord()"
                class="btn-3d text-white bg-fun-purple hover:bg-fun-purpleDark border-fun-purpleDark font-bold px-8 py-3 rounded-xl shadow-md text-sm md:text-base">
                Next ‚Üí
            </button>
        </div>
    </div>

    <div class="text-center text-gray-400 text-xs font-bold pb-8 opacity-50">
        Don't panic. You got this.
    </div>

    <script src="js/app.js"></script>
</body>

</html>